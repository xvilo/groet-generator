let form = document.querySelector('form');
if (form == []) {
    throw Error('No button was detected.');
}

let items = {
    "Enthousiast": {
        "Gezellig": ['briljante feestbeesten','briljante kameraden','briljante vrienden','briljante makkers','briljante metgezellen','briljante engeltjes','briljante lieverds','briljante uitblinkers','briljante helden','bruisende feestbeesten','bruisende kameraden','bruisende vrienden','bruisende makkers','bruisende metgezellen','bruisende engeltjes','bruisende lieverds','bruisende uitblinkers','bruisende helden','charmante feestbeesten','charmante kameraden','charmante vrienden','charmante makkers','charmante metgezellen','charmante engeltjes','charmante lieverds','charmante uitblinkers','charmante helden','lieve feestbeesten','lieve kameraden','lieve vrienden','lieve makkers','lieve metgezellen','lieve engeltjes','lieve lieverds','lieve uitblinkers','lieve helden','dolle feestbeesten','dolle kameraden','dolle vrienden','dolle makkers','dolle metgezellen','dolle engeltjes','dolle lieverds','dolle uitblinkers','dolle helden','amicale feestbeesten','amicale kameraden','amicale vrienden','amicale makkers','amicale metgezellen','amicale engeltjes','amicale lieverds','amicale uitblinkers','amicale helden','coole feestbeesten','coole kameraden','coole vrienden','coole makkers','coole metgezellen','coole engeltjes','coole lieverds','coole uitblinkers','coole helden','daverende feestbeesten','daverende kameraden','daverende vrienden','daverende makkers','daverende metgezellen','daverende engeltjes','daverende lieverds','daverende uitblinkers','daverende helden','prettige feestbeesten','prettige kameraden','prettige vrienden','prettige makkers','prettige metgezellen','prettige engeltjes','prettige lieverds','prettige uitblinkers','prettige helden',],
        "Neutraal": ['briljante wezens','briljante aardlingen','briljante organismen','briljante zielen','briljante karakters','briljante stervelingen','briljante types','briljante figuren','briljante mensen','bruisende wezens','bruisende aardlingen','bruisende organismen','bruisende zielen','bruisende karakters','bruisende stervelingen','bruisende types','bruisende figuren','bruisende mensen','charmante wezens','charmante aardlingen','charmante organismen','charmante zielen','charmante karakters','charmante stervelingen','charmante types','charmante figuren','charmante mensen','lieve wezens','lieve aardlingen','lieve organismen','lieve zielen','lieve karakters','lieve stervelingen','lieve types','lieve figuren','lieve mensen','dolle wezens','dolle aardlingen','dolle organismen','dolle zielen','dolle karakters','dolle stervelingen','dolle types','dolle figuren','dolle mensen','amicale wezens','amicale aardlingen','amicale organismen','amicale zielen','amicale karakters','amicale stervelingen','amicale types','amicale figuren','amicale mensen','coole wezens','coole aardlingen','coole organismen','coole zielen','coole karakters','coole stervelingen','coole types','coole figuren','coole mensen','daverende wezens','daverende aardlingen','daverende organismen','daverende zielen','daverende karakters','daverende stervelingen','daverende types','daverende figuren','daverende mensen','prettige wezens','prettige aardlingen','prettige organismen','prettige zielen','prettige karakters','prettige stervelingen','prettige types','prettige figuren','prettige mensen',],
        "Officieel": ['briljante particulieren','briljante aandeelhouders','briljante teamgenoten','briljante connecties','briljante personen','briljante individuen','briljante collega\'s','briljante medewerkers','briljante zakenpartners','bruisende particulieren','bruisende aandeelhouders','bruisende teamgenoten','bruisende connecties','bruisende personen','bruisende individuen','bruisende collega\'s','bruisende medewerkers','bruisende zakenpartners','charmante particulieren','charmante aandeelhouders','charmante teamgenoten','charmante connecties','charmante personen','charmante individuen','charmante collega\'s','charmante medewerkers','charmante zakenpartners','lieve particulieren','lieve aandeelhouders','lieve teamgenoten','lieve connecties','lieve personen','lieve individuen','lieve collega\'s','lieve medewerkers','lieve zakenpartners','dolle particulieren','dolle aandeelhouders','dolle teamgenoten','dolle connecties','dolle personen','dolle individuen','dolle collega\'s','dolle medewerkers','dolle zakenpartners','amicale particulieren','amicale aandeelhouders','amicale teamgenoten','amicale connecties','amicale personen','amicale individuen','amicale collega\'s','amicale medewerkers','amicale zakenpartners','coole particulieren','coole aandeelhouders','coole teamgenoten','coole connecties','coole personen','coole individuen','coole collega\'s','coole medewerkers','coole zakenpartners','daverende particulieren','daverende aandeelhouders','daverende teamgenoten','daverende connecties','daverende personen','daverende individuen','daverende collega\'s','daverende medewerkers','daverende zakenpartners','prettige particulieren','prettige aandeelhouders','prettige teamgenoten','prettige connecties','prettige personen','prettige individuen','prettige collega\'s','prettige medewerkers','prettige zakenpartners',],
    },
    "Objectief": {
        "Gezellig": ['aangename feestbeesten','aangename kameraden','aangename vrienden','aangename makkers','aangename metgezellen','aangename engeltjes','aangename lieverds','aangename uitblinkers','aangename helden','adequate feestbeesten','adequate kameraden','adequate vrienden','adequate makkers','adequate metgezellen','adequate engeltjes','adequate lieverds','adequate uitblinkers','adequate helden','bestaande feestbeesten','bestaande kameraden','bestaande vrienden','bestaande makkers','bestaande metgezellen','bestaande engeltjes','bestaande lieverds','bestaande uitblinkers','bestaande helden','diverse feestbeesten','diverse kameraden','diverse vrienden','diverse makkers','diverse metgezellen','diverse engeltjes','diverse lieverds','diverse uitblinkers','diverse helden','bekende feestbeesten','bekende kameraden','bekende vrienden','bekende makkers','bekende metgezellen','bekende engeltjes','bekende lieverds','bekende uitblinkers','bekende helden','aardse feestbeesten','aardse kameraden','aardse vrienden','aardse makkers','aardse metgezellen','aardse engeltjes','aardse lieverds','aardse uitblinkers','aardse helden','allerlei feestbeesten','allerlei kameraden','allerlei vrienden','allerlei makkers','allerlei metgezellen','allerlei engeltjes','allerlei lieverds','allerlei uitblinkers','allerlei helden','degelijke feestbeesten','degelijke kameraden','degelijke vrienden','degelijke makkers','degelijke metgezellen','degelijke engeltjes','degelijke lieverds','degelijke uitblinkers','degelijke helden','beoogde feestbeesten','beoogde kameraden','beoogde vrienden','beoogde makkers','beoogde metgezellen','beoogde engeltjes','beoogde lieverds','beoogde uitblinkers','beoogde helden',],
        "Neutraal": ['aangename wezens','aangename aardlingen','aangename organismen','aangename zielen','aangename karakters','aangename stervelingen','aangename types','aangename figuren','aangename mensen','adequate wezens','adequate aardlingen','adequate organismen','adequate zielen','adequate karakters','adequate stervelingen','adequate types','adequate figuren','adequate mensen','bestaande wezens','bestaande aardlingen','bestaande organismen','bestaande zielen','bestaande karakters','bestaande stervelingen','bestaande types','bestaande figuren','bestaande mensen','diverse wezens','diverse aardlingen','diverse organismen','diverse zielen','diverse karakters','diverse stervelingen','diverse types','diverse figuren','diverse mensen','bekende wezens','bekende aardlingen','bekende organismen','bekende zielen','bekende karakters','bekende stervelingen','bekende types','bekende figuren','bekende mensen','aardse wezens','aardse aardlingen','aardse organismen','aardse zielen','aardse karakters','aardse stervelingen','aardse types','aardse figuren','aardse mensen','allerlei wezens','allerlei aardlingen','allerlei organismen','allerlei zielen','allerlei karakters','allerlei stervelingen','allerlei types','allerlei figuren','allerlei mensen','degelijke wezens','degelijke aardlingen','degelijke organismen','degelijke zielen','degelijke karakters','degelijke stervelingen','degelijke types','degelijke figuren','degelijke mensen','beoogde wezens','beoogde aardlingen','beoogde organismen','beoogde zielen','beoogde karakters','beoogde stervelingen','beoogde types','beoogde figuren','beoogde mensen',],
        "Officieel": ['aangename particulieren','aangename aandeelhouders','aangename teamgenoten','aangename connecties','aangename personen','aangename individuen','aangename collega\'s','aangename medewerkers','aangename zakenpartners','adequate particulieren','adequate aandeelhouders','adequate teamgenoten','adequate connecties','adequate personen','adequate individuen','adequate collega\'s','adequate medewerkers','adequate zakenpartners','bestaande particulieren','bestaande aandeelhouders','bestaande teamgenoten','bestaande connecties','bestaande personen','bestaande individuen','bestaande collega\'s','bestaande medewerkers','bestaande zakenpartners','diverse particulieren','diverse aandeelhouders','diverse teamgenoten','diverse connecties','diverse personen','diverse individuen','diverse collega\'s','diverse medewerkers','diverse zakenpartners','bekende particulieren','bekende aandeelhouders','bekende teamgenoten','bekende connecties','bekende personen','bekende individuen','bekende collega\'s','bekende medewerkers','bekende zakenpartners','aardse particulieren','aardse aandeelhouders','aardse teamgenoten','aardse connecties','aardse personen','aardse individuen','aardse collega\'s','aardse medewerkers','aardse zakenpartners','allerlei particulieren','allerlei aandeelhouders','allerlei teamgenoten','allerlei connecties','allerlei personen','allerlei individuen','allerlei collega\'s','allerlei medewerkers','allerlei zakenpartners','degelijke particulieren','degelijke aandeelhouders','degelijke teamgenoten','degelijke connecties','degelijke personen','degelijke individuen','degelijke collega\'s','degelijke medewerkers','degelijke zakenpartners','beoogde particulieren','beoogde aandeelhouders','beoogde teamgenoten','beoogde connecties','beoogde personen','beoogde individuen','beoogde collega\'s','beoogde medewerkers','beoogde zakenpartners',],
    },
    "Formeel": {
        "Gezellig": ['analytische feestbeesten','analytische kameraden','analytische vrienden','analytische makkers','analytische metgezellen','analytische engeltjes','analytische lieverds','analytische uitblinkers','analytische helden','bedreven feestbeesten','bedreven kameraden','bedreven vrienden','bedreven makkers','bedreven metgezellen','bedreven engeltjes','bedreven lieverds','bedreven uitblinkers','bedreven helden','flexibele feestbeesten','flexibele kameraden','flexibele vrienden','flexibele makkers','flexibele metgezellen','flexibele engeltjes','flexibele lieverds','flexibele uitblinkers','flexibele helden','belangrijke feestbeesten','belangrijke kameraden','belangrijke vrienden','belangrijke makkers','belangrijke metgezellen','belangrijke engeltjes','belangrijke lieverds','belangrijke uitblinkers','belangrijke helden','cruciale feestbeesten','cruciale kameraden','cruciale vrienden','cruciale makkers','cruciale metgezellen','cruciale engeltjes','cruciale lieverds','cruciale uitblinkers','cruciale helden','beste feestbeesten','beste kameraden','beste vrienden','beste makkers','beste metgezellen','beste engeltjes','beste lieverds','beste uitblinkers','beste helden','geachte feestbeesten','geachte kameraden','geachte vrienden','geachte makkers','geachte metgezellen','geachte engeltjes','geachte lieverds','geachte uitblinkers','geachte helden','welkom feestbeesten','welkom kameraden','welkom vrienden','welkom makkers','welkom metgezellen','welkom engeltjes','welkom lieverds','welkom uitblinkers','welkom helden','ijverige feestbeesten','ijverige kameraden','ijverige vrienden','ijverige makkers','ijverige metgezellen','ijverige engeltjes','ijverige lieverds','ijverige uitblinkers','ijverige helden',],
        "Neutraal": ['analytische wezens','analytische aardlingen','analytische organismen','analytische zielen','analytische karakters','analytische stervelingen','analytische types','analytische figuren','analytische mensen','bedreven wezens','bedreven aardlingen','bedreven organismen','bedreven zielen','bedreven karakters','bedreven stervelingen','bedreven types','bedreven figuren','bedreven mensen','flexibele wezens','flexibele aardlingen','flexibele organismen','flexibele zielen','flexibele karakters','flexibele stervelingen','flexibele types','flexibele figuren','flexibele mensen','belangrijke wezens','belangrijke aardlingen','belangrijke organismen','belangrijke zielen','belangrijke karakters','belangrijke stervelingen','belangrijke types','belangrijke figuren','belangrijke mensen','cruciale wezens','cruciale aardlingen','cruciale organismen','cruciale zielen','cruciale karakters','cruciale stervelingen','cruciale types','cruciale figuren','cruciale mensen','beste wezens','beste aardlingen','beste organismen','beste zielen','beste karakters','beste stervelingen','beste types','beste figuren','beste mensen','geachte wezens','geachte aardlingen','geachte organismen','geachte zielen','geachte karakters','geachte stervelingen','geachte types','geachte figuren','geachte mensen','welkom wezens','welkom aardlingen','welkom organismen','welkom zielen','welkom karakters','welkom stervelingen','welkom types','welkom figuren','welkom mensen','ijverige wezens','ijverige aardlingen','ijverige organismen','ijverige zielen','ijverige karakters','ijverige stervelingen','ijverige types','ijverige figuren','ijverige mensen',],
        "Officieel": ['analytische particulieren','analytische aandeelhouders','analytische teamgenoten','analytische connecties','analytische personen','analytische individuen','analytische collega\'s','analytische medewerkers','analytische zakenpartners','bedreven particulieren','bedreven aandeelhouders','bedreven teamgenoten','bedreven connecties','bedreven personen','bedreven individuen','bedreven collega\'s','bedreven medewerkers','bedreven zakenpartners','flexibele particulieren','flexibele aandeelhouders','flexibele teamgenoten','flexibele connecties','flexibele personen','flexibele individuen','flexibele collega\'s','flexibele medewerkers','flexibele zakenpartners','belangrijke particulieren','belangrijke aandeelhouders','belangrijke teamgenoten','belangrijke connecties','belangrijke personen','belangrijke individuen','belangrijke collega\'s','belangrijke medewerkers','belangrijke zakenpartners','cruciale particulieren','cruciale aandeelhouders','cruciale teamgenoten','cruciale connecties','cruciale personen','cruciale individuen','cruciale collega\'s','cruciale medewerkers','cruciale zakenpartners','beste particulieren','beste aandeelhouders','beste teamgenoten','beste connecties','beste personen','beste individuen','beste collega\'s','beste medewerkers','beste zakenpartners','geachte particulieren','geachte aandeelhouders','geachte teamgenoten','geachte connecties','geachte personen','geachte individuen','geachte collega\'s','geachte medewerkers','geachte zakenpartners','welkom particulieren','welkom aandeelhouders','welkom teamgenoten','welkom connecties','welkom personen','welkom individuen','welkom collega\'s','welkom medewerkers','welkom zakenpartners','ijverige particulieren','ijverige aandeelhouders','ijverige teamgenoten','ijverige connecties','ijverige personen','ijverige individuen','ijverige collega\'s','ijverige medewerkers','ijverige zakenpartners',],
    }
}

form.addEventListener('submit', function(e) {
    e.preventDefault();
    hide();

    e.submitter.classList.add('button--loading');
    let formData = new FormData(e.srcElement);
    let who = formData.get('who');
    let occasion = formData.get('occasion');

    if (who === null || occasion === null) {
        stopLoading(e.submitter);
        return;
    }

    if (who in items) {
        if (occasion in items[who]) {
            setTimeout(function(){
                let possibilities = items[who][occasion];
                let randomItem = possibilities[Math.floor(Math.random() * possibilities.length)]
                showResult(randomItem);
                stopLoading(e.submitter);
            }, randomIntFromInterval(250, 1500));

            return;
        }
    }
});

function stopLoading(item) {
    item.classList.remove('button--loading');
}

function showResult(text) {
    document.querySelector('.output-text').innerText = text;
    document.querySelector('.email-sub > a').href = 'mailto:?body=' + encodeURIComponent(text) + '%2C%0A%0A%5Bemail%20hier%5D'
    document.querySelector('.output').classList.remove('visibility-hidden');
}

function hide() {
    document.querySelector('.output-text').innerText = '';
    document.querySelector('.output').classList.add('visibility-hidden');
}

function randomIntFromInterval(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min)
}
